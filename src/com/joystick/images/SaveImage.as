package com.joystick.images{	import com.adobe.images.PNGEncoder;	import com.adobe.images.JPGEncoder;	import flash.display.BitmapData;	import flash.display.DisplayObject;	import flash.net.navigateToURL;	import flash.net.URLRequest;	import flash.net.URLRequestHeader;	import flash.net.URLRequestMethod;	import flash.net.FileReference;	import flash.utils.ByteArray;	/**	 * ...	 * @author ... james florentino | www.jamesflorentino.com | j@jamesflorentino.com	 */	public class SaveImage	{				public static function save ( src:DisplayObject, filename:String = "image.png" ) : void		{			var fileref		: FileReference;			var canvas		: BitmapData;			var stream		: ByteArray;			var header		: URLRequestHeader;			var request		: URLRequest;									fileref			= new FileReference();			/** perform bmd operations 		**/			/** dimensions x scale = result **/			/** dimensions = result / scale **/			canvas			= new BitmapData (int(src.width / src.scaleX), int(src.height / src.scaleY), true, 0x00000000);			canvas.draw(src);						/** encode it **/			if(Boolean('.png')){				stream 			= PNGEncoder.encode(canvas);			}else{				stream 			= (new JPGEncoder).encode(canvas);			}						fileref.save(stream, filename);					}	}}